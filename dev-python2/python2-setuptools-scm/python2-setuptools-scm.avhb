# Copyright 2010-2023 Avouch Authors
# Distributed under the terms of the GNU General Public License v2
# Maintainer: Qurban Ullah <qurbanullah@avouch.org>
# Contributor: Qurban Ullah <qurbanullah@avouch.org>

pkgname=python2-setuptools-scm
_realname=setuptools_scm
pkgver=5.0.2
pkgrel=1
pkgdesc="Handles managing your python package versions in scm metadata."
arch=('any')
groups=('dev-python2')
url="https://github.com/pypa/setuptools_scm"
license=('MIT')
depends=('python2' 'python2-setuptools')
makedepends=('python2-setuptools')
checkdepends=('python2-pytest' 'mercurial' 'python2-pip' 'python2-toml')
source=("https://pypi.io/packages/source/s/setuptools_scm/setuptools_scm-$pkgver.tar.gz")

build() {
  cd $_realname-$pkgver
  python2 setup.py build
}

package() {
  cd $_realname-$pkgver
  python2 setup.py install --root="$pkgdir/" --optimize=1 --skip-build
  install -Dm644 -t "$pkgdir"/usr/share/licenses/$pkgname LICENSE
}